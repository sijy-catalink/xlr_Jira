<synthetic xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://www.xebialabs.com/deployit/synthetic"
           xsi:schemaLocation="http://www.xebialabs.com/deployit/synthetic synthetic.xsd">

    <type type="Catalinkjira.Server" extends="configuration.HttpConnection">
        <property name="apiToken" password="true" label="API Token" description="Username is required if using API Token"
                  required="false" category="Authentication"/>
                  
        <!-- Hide the fields which are not relevant for the jira integration -->
        <property name="domain" default="empty" hidden="true"/>
        <property name="clientId" default="empty" hidden="true"/>
        <property name="clientSecret" default="empty" hidden="true" password="true"/>
        <property name="scope" default="empty" hidden="true"/>
        <property name="accessTokenUrl" default="empty" hidden="true"/>
        <property name="authenticationMethod" kind="enum"
                  enum-class="com.xebialabs.xlrelease.domain.configuration.HttpConnection$AuthenticationMethod"
                  hidden="true" default="Basic">
            <enum-values>
                <value>Basic</value>
            </enum-values>
        </property>
    </type>

    <type type="Catalinkjira.JiraScript" virtual="true" extends="xlrelease.PythonScript">
        <property name="taskColor" default="#d96a21" hidden="true" />
        <property name="iconLocation" default="jira/jira.png" hidden="true" />
        <property name="jiraServer" category="input" label="Server" referenced-type="Catalinkjira.Server" kind="ci" description="JIRA server to connect to"/>
        <property name="username" category="input" required="false" description="Overrides the username used to connect to the server"/>
        <property name="password" password="true" category="input" required="false" description="Overrides the password used to connect to the server"/>
        <property name="apiToken" password="true" label="API Token" category="input" required="false" description="Overrides the API token used to connect to the server"/>
    </type>

    <type type="Catalinkjira.AssignIssue" extends="Catalinkjira.JiraScript">
        <property name="scriptLocation" hidden="true" default="Catalinkjira/AssignIssue.py"/>
        <property name="issueId" category="input" required="true" kind="string" description="ID of the issue"  />
        <property name="AccountId" category="input"  required="true" kind="string" description="AccountId of the user to be assigned the issue" />
        <property name="comment" category="input"  required="false" kind="string" description="Comment on the issue" />
    </type>

    <type type="Catalinkjira.SetFixVersion" extends="Catalinkjira.JiraScript">
        <property name="scriptLocation" hidden="true" default="Catalinkjira/SetFixVersion.py"/>
        <property name="issues" category="input" kind="map_string_string" required="true" description="Map containing issue IDs as keys."/>
        <property name="fixVersion" category="input" default="" required="true" description="New fixVersion value"/>
        <property name="comment" size="large" category="input" required="false" description="Comment text to add to the issues"/>
    </type>
    
    
</synthetic>
